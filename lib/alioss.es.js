import"core-js/modules/es6.regexp.match";function oss(a){function b(){return e}var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"image",d=`${a}?x-oss-process=${c}`,e=`${a}?x-oss-process=${c}`,f={process:function(a){var b=[];return a instanceof Function&&b.push(a),b.forEach(function(a){e+=a()}),f},result:b,info:function(){return d+"/info"},averageHue:function(){return d+"/average-hue"}};return f}function isSupportWebp(){if(localStorage&&localStorage.iswebp)return JSON.parse(localStorage.iswebp);if(localStorage&&!localStorage.iswebp){var a=document.createElement("canvas");if(a.getContext&&a.getContext("2d"))try{iswebp=0===a.toDataURL("image/webp").indexOf("data:image/webp")}catch(a){console.error(a)}localStorage.isWebp=!1}return JSON.parse(!1)}function imageType(a){var b=a.match(/.(jpg|png|jpeg|gif)$/i);return null===b?(console.error("imgurl is illegal"),null):b[1].toLocaleLowerCase()}var index=Object.freeze({isSupportWebp:isSupportWebp,imageType:imageType});function resize(a){var b=a.m,c=void 0===b?"lfit":b,d=a.w,e=a.h,f=a.l,g=a.s,h=a.limit,i=a.color,j=a.p;return`/resize,m_${c},w_${d},h_${e}`}function circle(a){return`/circle,r_${a}`}function crop(a){var b=a.x,c=void 0===b?0:b,d=a.y,e=void 0===d?0:d,f=a.w,i=a.h,h=a.g,j=void 0===h?"nw":h;return`/crop,x_${c},y_${e},w_${f},h_${i},g_${j}`}function indexcrop(a){var b=a.x,c=void 0===b?0:b,d=a.y,e=void 0===d?0:d,f=a.i;return c?`/indexcrop,x_${c},i_${f}`:e?`/indexcrop,y_${e},i_${f}`:""}function roundedCorners(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return`/rounded-corners,r_${a}`}function autoOrient(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return`/auto-orient,${a}`}function rotate(a){return`/rotate,${a}`}function blur(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return`/blur,r_${a},s_2`}function bright(a){return`bright,${a}`}function contrast(a){return`contrast,${a}`}function sharpen(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:100;return`/sharpen,${a}`}function format(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"webp";return`/format,${a}`}function interlace(a){return`/interlace,${a}`}function quality(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Q";return`/quality,${b}_${a}`}function watermark(a){var b=a.t,c=void 0===b?100:b,d=a.g,e=void 0===d?"se":d,f=a.x,g=void 0===f?10:f,h=a.y,i=void 0===h?10:h,j=a.voffset,k=a.text,l=void 0===k?"":k,m=a.color,n=void 0===m?"000000":m,o=a.size,p=void 0===o?40:o,q=a.rotate,r=void 0===q?0:q;return`/watermark,t_${c},g_${e},x_${g},y_${i},text_${l},size_${p}color_${n},rotate_${r}`}var processImage=Object.freeze({resize:resize,circle:circle,crop:crop,indexcrop:indexcrop,roundedCorners:roundedCorners,autoOrient:autoOrient,rotate:rotate,blur:blur,bright:bright,contrast:contrast,sharpen:sharpen,format:format,interlace:interlace,quality:quality,watermark:watermark});function snapshot(a){var b=a.t,c=a.w,d=void 0===c?0:c,e=a.h,g=void 0===e?0:e,h=a.m,i=a.f,j=void 0===i?"jpg":i;return`snapshot,t_${b},f_${j},w_${d},h_${g}`}var processVideo=Object.freeze({snapshot:snapshot});export default oss;export{processImage as proceeImage,processVideo as proceeVideo,index as helper};
